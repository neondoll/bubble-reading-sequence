"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[254],{8887:(e,t,r)=>{r.d(t,{O:()=>l,i:()=>p});var n=r(7757),a=r.n(n);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,s,"next",e)}function s(e){c(o,n,a,i,s,"throw",e)}i(void 0)}))}}var l={methods:{fetch:function(e,t,r,n){return u(a().mark((function o(){var i,s,c;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=n?"".concat(t,"(").concat(n,"){").concat(r,"}"):"".concat(t,"{").concat(r,"}"),s={query:"query myquery {".concat(i,"}")},c=[],a.next=5,Axios.post(e,s).then((function(e){e.data.hasOwnProperty("data")&&(c=e.data.data[t])})).catch((function(e){return console.error(e)}));case 5:return a.abrupt("return",c);case 6:case"end":return a.stop()}}),o)})))()},getForms:function(e,t){var r=this;return u(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetch("/graphql","forms",e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},getForm:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","form",["id","user_id","name","lastName","middleName","sex","old_name","old_lastName","old_middleName","passport_number","passport_serial","passport_place","passport_date","citizenship","birthday","birthplace","created_at","updated_at","index","district","city","street","house","corpus","room","education_level","ready_to_move","email","phone","job_phone","social_network","region_id","fact_region_id","languages{id,form_id,name,level}","computer_skills{id,form_id,name,level,type}","educations{id,form_id,org,start_year,end_year,speciality,diplom}","dpos{id,education_program,org,end_year,hours,category,form_id}","common_orgs{id,form_id,position,years,locality,org,org_goal,role}","job_place","job_position","job_position_date","job_org_min","stage","stage_gos","stage_nauka","stage_comers","stage_no_comers","stage_rukovod","sphere_uprav_id","sphere_uprav_dop_id","max_count_people_id","job_history{id,form_id,start_year,end_year,short_name,org_name,org_place,position,awards}","degree_id","sphere_n_id","sphere_n_dop_id","shifr","otrasl","zvan","hirsh","scopus","web_of_science","inoe","gos_tainy{id,form_id,form,org,number,job_date}","chin","ugolov","awards","comerc_uchast","opit_dey","kompetencii","achievements"],"id:".concat(e));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},getRegions:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","regions",["id","name"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryComputerSkills:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_computer_skills",["id","name"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryDpoEducationLevel:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_dpo_education_level",["id","value"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryCommonOrgPosition:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_common_org_positions",["id","name"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryEducationLevels:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_education_levels",["id","level"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryFormSpher:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_form_spher",["id","value"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryFormPeople:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_form_people",["id","value"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryDegree:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_degrees",["id","value"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionarySphereScience:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_sphere_science",["id","value"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()},getDictionaryUchZvan:function(e){var t=this;return u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch("/graphql","dictionary_uch_zvan",["id","value"],e);case 2:return r.abrupt("return",r.sent.map((function(e){return i(i({},e),{},{id:parseInt(e.id)})})));case 3:case"end":return r.stop()}}),r)})))()}}};function d(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}var p={filters:{dateFormatter:function(e){return new Date(e).toLocaleDateString("ru-RU",{month:"long",day:"numeric",year:"numeric"})}},methods:{prepareRouteByName:function(e){return{name:e}},toRouteByName:function(e){var t,r=this;return(t=a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.$router.push(r.prepareRouteByName(e));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){d(o,n,a,i,s,"next",e)}function s(e){d(o,n,a,i,s,"throw",e)}i(void 0)}))})()}}}},5105:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(1519),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".reflow .expand-enter-active,.reflow .expand-leave-active{overflow:hidden;transition:all .5s ease;width:100%}.reflow .expand-down-up-enter,.reflow .expand-enter,.reflow .expand-leave-to{height:0;opacity:0;width:0}.reflow *{-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px;transform:translateZ(0);will-change:height}",""]);const o=a},1908:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(1519),a=r.n(n),o=r(2317),i=a()((function(e){return e[1]}));i.i(o.Z),i.push([e.id,"",""]);const s=i},2317:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(1519),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".card-container {\n    height: 650px;\n    width: 100%;\n    overflow: auto;\n\n}\n\n.w-25 {\n    width: 50%;\n}\n.block-secondary {\n    background-color: rgba(187, 187, 187, 0.6) !important;\n    width: 150px;\n}\n\n.rounded-15 {\n    border-radius: 50px !important;\n}\n\n.font-size {\n    font-size: 13px;\n}\n\n.test {\n    width: 200px;\n}\n\n.flex-50 {\n    flex-basis: 50%;\n}\n\n",""]);const o=a},3793:(e,t,r)=>{r.d(t,{Z:()=>p});const n={name:"MPage",props:{label:{default:function(){return null},type:null|String},breadcrumbs:{default:function(){return[]},type:Array},disableBackBtn:{type:Boolean,default:function(){return!1}}}};var a=r(1900),o=r(3453),i=r.n(o),s=r(5222),c=r(1246),u=r(9717),l=r(1819),d=(0,a.Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-breadcrumbs",{staticClass:"mb-2 p-0",attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return r("v-breadcrumbs-item",{attrs:{exact:"",to:n.to}},[e._v("\n            "+e._s(n.text)+"\n        ")])}}])}),e._v(" "),r("div",{staticClass:"d-flex justify-space-between"},[e.label?r("p",{staticClass:"title"},[e._v(e._s(e.label))]):e._e(),e._v(" "),e.disableBackBtn?e._e():r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$router.back()}}},[e._v("Назад")])],1),e._v(" "),e._t("default")],2)}),[],!1,null,"7cd5df4a",null);const p=d.exports;i()(d,{VBreadcrumbs:s.Z,VBreadcrumbsItem:c.Z,VBtn:u.Z,VContainer:l.Z})},1254:(e,t,r)=>{r.r(t),r.d(t,{default:()=>B});var n=r(7757),a=r.n(n),o=r(3793),i=r(8887);const s={methods:{enter:function(e){e.style.width=getComputedStyle(e).width,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";var t=getComputedStyle(e).height;e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame((function(){e.style.height=t}))},afterEnter:function(e){e.style.height="auto"},leave:function(e){e.style.height=getComputedStyle(e).height,getComputedStyle(e).height,requestAnimationFrame((function(){e.style.height=0}))}}};var c=r(3379),u=r.n(c),l=r(5105),d={insert:"head",singleton:!1};u()(l.Z,d);l.Z.locals;var p=r(1900);const f=(0,p.Z)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reflow"},[r("transition",{attrs:{mode:"out-in",name:"expand"},on:{enter:e.enter,"after-enter":e.afterEnter,leave:e.leave}},[e._t("default")],2)],1)}),[],!1,null,null,null).exports;function v(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){v(o,n,a,i,s,"next",e)}function s(e){v(o,n,a,i,s,"throw",e)}i(void 0)}))}}const h={name:"MainPage",data:function(){return{keys:[{key:"job_place",text:"Место работы"},{key:"job_position",text:"Должность"},{key:"region",text:"Регион",column:"name"},{key:"city",text:"Город"},{key:"phone",text:"Телефон"},{key:"email",text:"email"}],loading:!0,notInArray:["fio","id","created_at"],breadcrumbs:[{text:"Главная",disabled:!0}],items:[],filters:{fio:null},showFilters:!1}},mounted:function(){var e=this;return m(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getItems();case 2:case"end":return t.stop()}}),t)})))()},watch:{filters:{deep:!0,handler:function(e){var t=this;return m(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:setTimeout(m(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="where: {",Object.keys(e).forEach((function(t){e[t]&&(n+="".concat(t,': "').concat(e[t],'", '))})),n+="}",r.next=5,t.getItems(n);case 5:case"end":return r.stop()}}),r)}))),500);case 1:case"end":return r.stop()}}),r)})))()}}},methods:{getItems:function(e){var t=this;return m(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,n=t.keys.map((function(e){return e.hasOwnProperty("column")?"".concat(e.key,"{").concat(e.column,"}"):e.key})).concat(t.notInArray),r.next=4,t.getForms(n,e);case 4:t.items=r.sent,setTimeout((function(){t.loading=!1}),300);case 6:case"end":return r.stop()}}),r)})))()},filteredKeys:function(e){var t=this;return Object.keys(e).filter((function(e){return!t.notInArray.includes(e)}))}},mixins:[i.O,i.i],components:{MShrinkX:f,MPage:o.Z}};var _=r(1908),y={insert:"head",singleton:!1};u()(_.Z,y);_.Z.locals;var g=r(3453),b=r.n(g),w=r(9717),x=r(561),k=r(5255),Z=r(7024),O=r(1819),j=r(7740),C=r(8422),P=r(727),I=r(7630),D=r(8480),F=r(7894),S=r(3157),q=r(3803),V=(0,p.Z)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("m-page",{attrs:{"disable-back-btn":"",breadcrumbs:e.breadcrumbs,label:"Анкеты кадрового резерва"}},[r("v-card",[r("v-container",[r("v-btn",{staticClass:"mb-2",attrs:{color:"primary",to:e.prepareRouteByName("createForm")}},[e._v("Добавить анкету")]),e._v(" "),r("v-row",[r("v-col",[e.loading?r("v-row",[r("v-col",{attrs:{md:"4",cols:"12"}},[r("v-skeleton-loader",{attrs:{type:" article, actions"}})],1),e._v(" "),r("v-col",{attrs:{md:"4",cols:"12"}},[r("v-skeleton-loader",{attrs:{type:" article, actions"}})],1),e._v(" "),r("v-col",{attrs:{md:"4",cols:"12"}},[r("v-skeleton-loader",{attrs:{type:" article, actions"}})],1),e._v(" "),r("v-col",{attrs:{md:"4",cols:"12"}},[r("v-skeleton-loader",{attrs:{type:" article, actions"}})],1),e._v(" "),r("v-col",{attrs:{md:"4",cols:"12"}},[r("v-skeleton-loader",{attrs:{type:" article, actions"}})],1),e._v(" "),r("v-col",{attrs:{md:"4",cols:"12"}},[r("v-skeleton-loader",{attrs:{type:" article, actions"}})],1),e._v(" "),r("v-col",{attrs:{md:"4",cols:"12"}},[r("v-skeleton-loader",{attrs:{type:" article, actions"}})],1)],1):r("v-row",e._l(e.items,(function(t,n){return r("v-col",{key:"anket-"+t.name+n,attrs:{cols:"12",md:"4"}},[r("v-card",{attrs:{flat:"",elevation:"3"},on:{click:function(r){return e.$router.push({name:"updateForm",params:{id:t.id}})}}},[r("v-card-title",[r("v-row",[r("v-col",[r("span",{staticClass:"test"},[e._v(e._s(t.fio))])]),e._v(" "),r("v-col",[r("div",{staticClass:"ml-2 rounded-15 d-flex justify-center font-size block-secondary"},[r("span",[e._v(e._s(e._f("dateFormatter")(t.created_at)))])])])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list",{attrs:{dense:""}},e._l(e.keys,(function(n,a){return r("v-list-item",{key:a},[r("v-list-item-content",[e._v("\n                                            "+e._s(n.text)+":\n                                        ")]),e._v(" "),r("v-list-item-content",{staticClass:"align-end"},[n.hasOwnProperty("column")&&t[n.key]?r("span",[e._v(e._s(t[n.key][n.column]))]):r("span",[e._v(e._s(t[n.key]))])])],1)})),1)],1)],1)})),1)],1),e._v(" "),r("v-col",{attrs:{cols:e.showFilters?4:1}},[r("div",{staticClass:"d-flex justify-end"},[r("div",{staticStyle:{width:"500px"}},[r("m-shrink-x",[r("v-card",{directives:[{name:"show",rawName:"v-show",value:e.showFilters,expression:"showFilters"}],attrs:{flat:""}},[r("v-container",[r("div",{staticClass:"text-center"},[r("span",{staticClass:"title"},[e._v("Фильтр")])]),e._v(" "),r("v-text-field",{attrs:{label:"ФИО"},model:{value:e.filters.fio,callback:function(t){e.$set(e.filters,"fio",t)},expression:"filters.fio"}}),e._v(" "),e._l(e.keys,(function(t){return r("v-text-field",{key:JSON.stringify(t),attrs:{label:t.text},model:{value:e.filters[t.key],callback:function(r){e.$set(e.filters,t.key,r)},expression:"filters[item.key]"}})}))],2)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{absolute:"",icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[r("v-icon",[e._v("mdi-filter")])],1)],1)])],1)],1)],1)],1)}),[],!1,null,"40f82fe8",null);const B=V.exports;b()(V,{VBtn:w.Z,VCard:x.Z,VCardTitle:k.EB,VCol:Z.Z,VContainer:O.Z,VDivider:j.Z,VIcon:C.Z,VList:P.Z,VListItem:I.Z,VListItemContent:D.km,VRow:F.Z,VSkeletonLoader:S.Z,VTextField:q.Z})}}]);